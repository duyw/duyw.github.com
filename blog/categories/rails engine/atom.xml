<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Rails Engine | 杜永文 博客]]></title>
  <link href="http://duyw.github.io/blog/categories/rails engine/atom.xml" rel="self"/>
  <link href="http://duyw.github.io/"/>
  <updated>2014-01-26T23:18:52+08:00</updated>
  <id>http://duyw.github.io/</id>
  <author>
    <name><![CDATA[Du Yongwen]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Rails Engine]]></title>
    <link href="http://duyw.github.io/blog/2013/05/02/rails-engine/"/>
    <updated>2013-05-02T15:55:00+08:00</updated>
    <id>http://duyw.github.io/blog/2013/05/02/rails-engine</id>
    <content type="html"><![CDATA[<h3>1. Engine是什么？</h3>

<p>Engine 可以被看作是（一个）微型的rails应用程序。其提供（一些额外的）功能给它们的宿主程序（host applications）。</p>

<p>一个 Rails 应用程序实际上就是一个 “加强版”（supercharged） engine，因为 Rails::Application 继承了来自 Rails::Engine 的更多习惯。</p>

<p>Engine 也可以与他们的宿主程序相互隔离。controllers， models 和 table也是名称空间化的。</p>

<p>可以简单的理解为 Engine 是对宿主程序的一个拓展、加强。典型的Engine案例有<a href="https://github.com/plataformatec/devise">Devise</a>、<a href="https://github.com/radar/forem">Forem</a>、<a href="https://github.com/resolve/refinerycms">Refinerycms</a>等。</p>

<h3>2. 创建一个Engine</h3>

<p>本文以创建一个基于 rails3.2 的 Engine 为例，命令：</p>

<p><code>
rails plugin new my_engine --full --mountable
</code></p>

<p><code>--full</code>:  创建一个完整的，等同rails项目的目录结构。</p>

<p><code>--mountable</code>: 选项告诉创建器去挂载 engine 到在 engine 中的 test/dummy 的模拟（dummy）测试程序。在dummy的 config/routes.rb 加入内容：<code>mount MyEngine::Engine =&gt; "/my_engine"</code></p>
]]></content>
  </entry>
  
</feed>
